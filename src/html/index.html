<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lingue</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"
    />
    <link rel="stylesheet" href="./css/main.css" />
  </head>

  <body id="body">
    <section class="welcome">
      @@include('blocks/header.html') @@include('section/welcome-content.html')
    </section>
    @@include('section/values.html')@@include('section/question.html')
    @@include('section/lessons.html') @@include('blocks/footer.html')
    <script src="./js/index.bundle.js"></script>
    <script>
      function navToggle() {
        document.getElementById("headerUl").classList.toggle("_active");
        document.getElementById("headerBackdrop").classList.toggle("_active");
        if (headerBackdrop.classList.contains("_active")) {
          body.style.overflow = "hidden";
        } else {
          body.style.overflow = "auto";
        }
      }
    </script>
    <script>
      /*=============== ACCORDION ===============*/
      const accordionItems = document.querySelectorAll(".accordion__item");

      // Создать переменную для отслеживания текущего открытого элемента
      let openItem = null;

      // 1. Выбрать каждый элемент
      accordionItems.forEach((item) => {
        const accordionHeader = item.querySelector(".accordion__header");

        // 2. Выбрать каждый клик заголовка
        accordionHeader.addEventListener("click", () => {
          // Если есть открытый элемент, закрыть его
          if (openItem && openItem !== item) {
            toggleItem(openItem);
          }

          // 5. Вызвать функцию toggleItem для текущего элемента
          toggleItem(item);
        });
      });

      // 3. Создать функцию toggleItem
      const toggleItem = (item) => {
        // 3.1 Создать переменную для контента аккордеона
        const accordionContent = item.querySelector(".accordion__content");

        // 6. Если элемент уже открыт, закрыть его
        if (item.classList.contains("accordion-open")) {
          accordionContent.removeAttribute("style");
          item.classList.remove("accordion-open");
          openItem = null; // Установить открытый элемент как null
        } else {
          // 4. Установить максимальную высоту контента
          accordionContent.style.height = accordionContent.scrollHeight + "px";
          item.classList.add("accordion-open");
          openItem = item; // Установить текущий открытый элемент
        }
      };
    </script>
  </body>
</html>
